<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>cuML WebUI ‚Äî GPU Training System</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" onerror="this.remove()">
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
<div id="app">

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SIDEBAR
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <nav id="sidebar">
    <div class="sidebar-logo">
      <div class="logo-icon">N</div>
      <div class="logo-text">
        <div class="brand">cuML WebUI</div>
        <div class="sub">GPU Training System</div>
      </div>
    </div>

    <div class="sidebar-nav">
      <div class="nav-section">Data</div>
      <div class="nav-item active" data-module="data">
        <span class="icon">üìä</span><span>Data</span>
      </div>
      <div class="nav-item" data-module="preprocess">
        <span class="icon">üîß</span><span>Preprocess</span>
      </div>

      <div class="nav-section">Model</div>
      <div class="nav-item" data-module="model">
        <span class="icon">ü§ñ</span><span>Model Selection</span>
      </div>
      <div class="nav-item" data-module="training">
        <span class="icon">üèã</span><span>Training</span>
      </div>
      <div class="nav-item" data-module="eval">
        <span class="icon">üìà</span><span>Evaluation</span>
      </div>

      <div class="nav-section">Deploy</div>
      <div class="nav-item" data-module="weights">
        <span class="icon">üíæ</span><span>Weights</span>
      </div>
      <div class="nav-item" data-module="predict">
        <span class="icon">üîÆ</span><span>Predict</span>
      </div>
      <div class="nav-item" data-module="stacking">
        <span class="icon">üîÄ</span><span>Stacking</span>
      </div>
      <div class="nav-item" data-module="logs">
        <span class="icon">üìù</span><span>Logs</span>
      </div>
    </div>

    <div class="sidebar-footer">
      <div>
        <span class="status-dot" id="bridge-dot"></span>
        <span class="status-text" id="bridge-text">Checking‚Ä¶</span>
      </div>
      <div style="margin-top:6px">
        <span class="status-text" id="ws-status" style="color:#555;font-size:10px">WS ‚Äì</span>
      </div>
    </div>
  </nav>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       MAIN
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="main">

    <!-- Top bar -->
    <div id="topbar">
      <h1 id="module-title">Data</h1>
      <div class="chip">
        <span style="color:#76b900">‚óè</span>
        <span id="selected-model-display">No model selected</span>
      </div>
      <div class="chip" id="train-chip" style="display:none">
        <span class="spinner" style="width:10px;height:10px;border-width:1.5px"></span>
        <span id="train-chip-text">Training‚Ä¶</span>
      </div>
    </div>

    <!-- Modules -->
    <div id="content">

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           MODULE: DATA
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="module active" id="module-data">

        <div class="card">
          <div class="card-title">Upload Dataset</div>
          <div id="upload-zone" class="upload-zone">
            <div class="uz-icon">üìÇ</div>
            <div class="uz-text">Drop a file here or click to browse</div>
            <div class="uz-hint">CSV ¬∑ TSV ¬∑ Excel ¬∑ JSON ¬∑ Parquet</div>
          </div>
          <input type="file" id="file-input" accept=".csv,.tsv,.xls,.xlsx,.json,.parquet" style="display:none">
        </div>

        <div id="data-summary"></div>

        <div class="card" id="card-data-tabs" style="display:none">
          <div class="card-title">Dataset Exploration</div>
          <div class="tab-bar">
            <div class="tab-btn active" data-tab="preview">Preview</div>
            <div class="tab-btn" data-tab="columns">Column Info</div>
          </div>
          <div class="tab-pane active" data-tab="preview">
            <div class="table-wrap" id="data-preview-table"></div>
          </div>
          <div class="tab-pane" data-tab="columns">
            <div id="col-info-table"></div>
          </div>
        </div>

        <div class="card" id="card-cleaning" style="display:none">
          <div class="card-title">Data Cleaning</div>
          <div class="grid-3">
            <div class="form-group">
              <label>Missing Values Strategy</label>
              <select id="clean-missing-strategy">
                <option value="none">‚Äî Skip ‚Äî</option>
                <option value="mean">Fill with Mean</option>
                <option value="median" selected>Fill with Median</option>
                <option value="mode">Fill with Mode</option>
                <option value="value">Fill with Constant</option>
              </select>
            </div>
            <div class="form-group">
              <label>Fill Constant Value</label>
              <input type="number" id="clean-fill-value" value="0" placeholder="0">
              <div class="hint">Used only when strategy = "constant"</div>
            </div>
            <div class="form-group">
              <label>Outlier Handling</label>
              <select id="clean-outlier-method">
                <option value="none">‚Äî Skip ‚Äî</option>
                <option value="iqr" selected>IQR Clip</option>
                <option value="zscore">Z-Score Clip</option>
              </select>
            </div>
            <div class="form-group">
              <label>Outlier Threshold</label>
              <input type="number" id="clean-outlier-thresh" value="1.5" step="0.1" min="0">
              <div class="hint">IQR: 1.5 standard | Z-Score: 3.0 standard</div>
            </div>
            <div class="form-group" style="display:flex;align-items:flex-end">
              <div class="checkbox-row">
                <input type="checkbox" id="clean-drop-dup">
                <label for="clean-drop-dup">Drop Duplicates</label>
              </div>
            </div>
          </div>
          <div class="btn-group" style="margin-top:8px">
            <button class="btn btn-primary" onclick="applyCleaning()">‚ñ∂ Apply Cleaning</button>
            <button class="btn btn-secondary" onclick="resetCleaning()">‚Ü∫ Reset to Original</button>
          </div>
        </div>

      </div><!-- /module-data -->

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           MODULE: PREPROCESS
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="module" id="module-preprocess">

        <div class="card">
          <div class="card-title">Feature Selection</div>
          <p style="font-size:12px;color:var(--text-dim);margin-bottom:12px">
            Select which columns to use as features (X) and which as the target (y).
          </p>
          <div class="grid-2">
            <div>
              <div class="form-group">
                <label>Feature Columns (X)</label>
                <div id="feature-col-list" style="max-height:240px;overflow-y:auto;padding:8px;background:var(--bg-input);border:1px solid var(--border);border-radius:4px">
                  <p style="color:var(--text-dim);font-size:12px">Upload data first‚Ä¶</p>
                </div>
              </div>
            </div>
            <div>
              <div class="form-group">
                <label>Target Column (y)</label>
                <select id="target-col-select"><option value="">Upload data first‚Ä¶</option></select>
              </div>
              <div class="form-group">
                <div class="checkbox-row">
                  <input type="checkbox" id="encode-target">
                  <label for="encode-target">Auto-encode target labels</label>
                </div>
                <div class="hint">Encode string/categorical target to integer codes</div>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-title">Preprocessing &amp; Split</div>
          <div class="grid-3">
            <div class="form-group">
              <label>Feature Scaling</label>
              <select id="preprocess-scaler">
                <option value="">‚Äî None ‚Äî</option>
                <option value="standard" selected>Standard Scaler (z-score)</option>
                <option value="minmax">Min-Max Scaler [0,1]</option>
                <option value="robust">Robust Scaler (IQR)</option>
              </select>
            </div>
            <div class="form-group">
              <label>Test Set Size</label>
              <input type="number" id="test-size" value="0.2" min="0.01" max="0.9" step="0.01">
              <div class="hint">Fraction of data for testing (e.g. 0.2 = 20%)</div>
            </div>
            <div class="form-group">
              <label>Random Seed</label>
              <input type="number" id="random-seed" value="42" min="0">
              <div class="hint">For reproducibility</div>
            </div>
          </div>
          <button class="btn btn-primary" onclick="applyPreprocess()">‚ñ∂ Apply &amp; Create Split</button>
        </div>

        <div id="split-result"></div>

      </div><!-- /module-preprocess -->

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           MODULE: MODEL SELECTION
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="module" id="module-model">

        <div class="card">
          <div class="card-title">Select Model</div>
          <div class="btn-group" style="margin-bottom:14px">
            <button class="btn btn-sm btn-secondary model-filter-btn active" data-task="all">All</button>
            <button class="btn btn-sm btn-secondary model-filter-btn" data-task="classification">Classification</button>
            <button class="btn btn-sm btn-secondary model-filter-btn" data-task="regression">Regression</button>
            <button class="btn btn-sm btn-secondary model-filter-btn" data-task="clustering">Clustering</button>
            <button class="btn btn-sm btn-secondary model-filter-btn" data-task="decomposition">Decomposition</button>
          </div>
          <div class="model-grid" id="model-card-grid">
            <div class="empty-state"><div class="spinner"></div></div>
          </div>
        </div>

        <div id="param-panel" class="card">
          <div class="card-title">Hyperparameters</div>
          <p style="color:var(--text-dim);font-size:13px">Select a model above to configure its parameters.</p>
        </div>

        <div class="card">
          <div class="card-title">Metrics Info</div>
          <div id="task-metrics-info" style="color:var(--text-dim);font-size:13px">
            Select a model to see which metrics will be monitored.
          </div>
        </div>

      </div><!-- /module-model -->

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           MODULE: TRAINING
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="module" id="module-training">

        <!-- Config card -->
        <div class="card">
          <div class="card-title">Training Configuration</div>
          <div class="grid-2">
            <div>
              <div class="form-group">
                <label>Selected Model</label>
                <div style="padding:8px;background:var(--bg-input);border:1px solid var(--border);border-radius:4px;font-weight:600;color:var(--green)" id="selected-model-display2">None</div>
              </div>
              <div class="form-group">
                <label>Model / Weight Name</label>
                <input type="text" id="train-model-name" placeholder="e.g. my_rf_v1">
                <div class="hint">Used as filename when saving weights</div>
              </div>
              <div class="form-group">
                <label>Training Steps (iterations)</label>
                <input type="number" id="train-n-steps" value="10" min="2" max="100">
                <div class="hint">Number of learning-curve steps (ignored for iterative models)</div>
              </div>
            </div>
            <div>
              <!-- Mode selector -->
              <label style="font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text-dim)">Training Mode</label>
              <div class="training-mode-selector" style="margin-top:8px">
                <div class="mode-card selected" data-mode="unlimited">
                  <div class="mode-icon">‚àû</div>
                  <div class="mode-title">Unlimited</div>
                  <div class="mode-desc">Run until manually stopped. Best model auto-saved on stop.</div>
                </div>
                <div class="mode-card" data-mode="timed">
                  <div class="mode-icon">‚è±</div>
                  <div class="mode-title">Time-Limited</div>
                  <div class="mode-desc">Stops automatically after the time limit. Auto-saves best.</div>
                </div>
                <div class="mode-card" data-mode="target">
                  <div class="mode-icon">üéØ</div>
                  <div class="mode-title">Target Value</div>
                  <div class="mode-desc">Stops when a metric hits the target. Auto-saves best.</div>
                </div>
              </div>

              <div id="timed-options" style="display:none" class="form-group">
                <label>Time Limit (seconds)</label>
                <input type="number" id="time-limit" value="60" min="5">
              </div>
              <div id="target-options" style="display:none">
                <div class="grid-2">
                  <div class="form-group">
                    <label>Target Metric</label>
                    <select id="target-metric">
                      <option value="val_accuracy">val_accuracy</option>
                      <option value="val_f1">val_f1</option>
                      <option value="val_r2">val_r2</option>
                      <option value="val_rmse">val_rmse</option>
                      <option value="silhouette">silhouette</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>Target Value</label>
                    <input type="number" id="target-value" value="0.95" step="0.01" min="0">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <hr>
          <div class="btn-group">
            <button class="btn btn-primary" id="btn-start-train" onclick="startTraining()">‚ñ∂ Start Training</button>
            <button class="btn btn-danger"  id="btn-stop-train"  onclick="stopTraining()" disabled>‚èπ Stop</button>
          </div>
        </div>

        <!-- Status bar -->
        <div class="training-status-bar">
          <div class="status-label">Status</div>
          <span class="tag" id="train-status-label">IDLE</span>
          <div style="margin-left:16px;font-size:12px;color:var(--text-dim)">
            Session: <span id="train-current-session" style="font-family:monospace">‚Äî</span>
          </div>
          <div class="elapsed" id="train-elapsed">0s</div>
        </div>

        <!-- Progress -->
        <div class="progress-bar">
          <div class="progress-bar-fill" id="train-progress-fill" style="width:0%"></div>
        </div>

        <!-- Live metrics -->
        <div class="grid-2">
          <div class="card">
            <div class="card-title">Current Step Metrics</div>
            <div class="metric-grid" id="current-metrics-display">
              <div class="empty-state" style="padding:20px"><div class="es-text">Training not started</div></div>
            </div>
          </div>
          <div class="card">
            <div class="card-title">Best Metrics</div>
            <div class="metric-grid" id="best-metrics-display">
              <div class="empty-state" style="padding:20px"><div class="es-text">No best model yet</div></div>
            </div>
          </div>
        </div>

        <!-- Charts -->
        <div class="grid-2">
          <div class="card">
            <div class="card-title">Accuracy</div>
            <div class="chart-container"><canvas id="chart-accuracy"></canvas></div>
          </div>
          <div class="card">
            <div class="card-title">F1 Score</div>
            <div class="chart-container"><canvas id="chart-f1"></canvas></div>
          </div>
        </div>
        <div class="grid-2">
          <div class="card">
            <div class="card-title">RMSE</div>
            <div class="chart-container"><canvas id="chart-loss"></canvas></div>
          </div>
          <div class="card">
            <div class="card-title">R¬≤</div>
            <div class="chart-container"><canvas id="chart-r2"></canvas></div>
          </div>
        </div>

        <!-- Session history -->
        <div class="card">
          <div class="card-title">Training Sessions</div>
          <div id="session-list">
            <div class="empty-state"><div class="es-icon">üèã</div><div class="es-text">No sessions yet</div></div>
          </div>
          <button class="btn btn-sm btn-secondary" style="margin-top:10px" onclick="renderSessionList()">‚Ü∫ Refresh</button>
        </div>

      </div><!-- /module-training -->

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           MODULE: EVALUATION
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="module" id="module-eval">

        <div class="card">
          <div class="card-title">Model Evaluation on Test Set</div>
          <div class="grid-2">
            <div class="form-group">
              <label>Select Model</label>
              <select id="eval-model-select"><option value="">Load weights first‚Ä¶</option></select>
            </div>
          </div>
          <button class="btn btn-primary" onclick="runEvaluation()">‚ñ∂ Evaluate</button>
        </div>

        <div class="card">
          <div class="card-title">Evaluation Metrics</div>
          <div id="eval-metrics-display">
            <div class="empty-state"><div class="es-icon">üìà</div><div class="es-text">Run evaluation to see metrics</div></div>
          </div>
        </div>

      </div><!-- /module-eval -->

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           MODULE: WEIGHTS
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="module" id="module-weights">

        <div class="card">
          <div class="card-title">Saved Models</div>
          <div id="weights-list">
            <div class="empty-state"><div class="spinner"></div></div>
          </div>
          <button class="btn btn-sm btn-secondary" style="margin-top:12px" onclick="refreshWeightsList()">‚Ü∫ Refresh</button>
        </div>

      </div><!-- /module-weights -->

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           MODULE: PREDICT
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="module" id="module-predict">

        <div class="card">
          <div class="card-title">Run Prediction on Test Set</div>
          <div class="form-group">
            <label>Select Model</label>
            <select id="predict-model-select"><option value="">Load weights first‚Ä¶</option></select>
          </div>
          <button class="btn btn-primary" onclick="runPrediction()">‚ñ∂ Generate Predictions</button>
        </div>

        <div class="card">
          <div class="card-title">Prediction Results</div>
          <div id="pred-results">
            <div class="empty-state"><div class="es-icon">üîÆ</div><div class="es-text">Run prediction to see results</div></div>
          </div>
        </div>

      </div><!-- /module-predict -->

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           MODULE: STACKING
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="module" id="module-stacking">

        <div class="card">
          <div class="card-title">Model Stacking Builder</div>
          <p style="font-size:12px;color:var(--text-dim);margin-bottom:14px">
            Combine multiple trained base models with a meta-learner for improved performance.
          </p>
          <div class="grid-2">
            <div>
              <div class="form-group">
                <label>Base Models (select ‚â• 2)</label>
                <div id="stack-base-list" style="max-height:200px;overflow-y:auto;padding:8px;background:var(--bg-input);border:1px solid var(--border);border-radius:4px">
                  <p style="color:var(--text-dim);font-size:12px">Load models first‚Ä¶</p>
                </div>
              </div>
            </div>
            <div>
              <div class="form-group">
                <label>Meta-Learner</label>
                <select id="stack-meta-model">
                  <option value="LogisticRegression">LogisticRegression</option>
                  <option value="LinearRegression">LinearRegression</option>
                  <option value="Ridge">Ridge</option>
                </select>
              </div>
              <div class="form-group">
                <label>Stack Model Name</label>
                <input type="text" id="stack-name" placeholder="e.g. my_stack_v1">
              </div>
            </div>
          </div>
          <button class="btn btn-primary" onclick="createStack()">‚ö° Build Stack</button>
        </div>

        <div id="stack-result"></div>

      </div><!-- /module-stacking -->

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           MODULE: LOGS
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="module" id="module-logs">

        <div class="card">
          <div class="card-title">Per-Model Logs</div>
          <div class="grid-2" style="margin-bottom:10px">
            <div class="form-group">
              <label>Select Model Log</label>
              <select id="log-model-select" onchange="loadLog(this.value)">
                <option value="">‚Äî No logs yet ‚Äî</option>
              </select>
            </div>
          </div>
          <div class="btn-group" style="margin-bottom:12px">
            <button class="btn btn-sm btn-secondary" onclick="refreshLogsList()">‚Ü∫ Refresh List</button>
            <button class="btn btn-sm btn-danger" onclick="clearLog()">üóë Clear Log</button>
          </div>
          <div class="log-viewer" id="log-viewer">
            <span style="color:#555;font-size:12px">Select a model log above‚Ä¶</span>
          </div>
        </div>

      </div><!-- /module-logs -->

    </div><!-- /content -->
  </div><!-- /main -->
</div><!-- /app -->

<!-- Notifications container -->
<div id="notifications"></div>

<!-- Chart.js (local vendor) -->
<script src="/static/js/vendor/chart.umd.min.js"></script>
<!-- Socket.IO client (local vendor) -->
<script src="/static/js/vendor/socket.io.min.js"></script>
<!-- App JS -->
<script src="/static/js/app.js"></script>

<script>
// Show data exploration tabs after data is loaded
const _origRenderDataSummary = window.renderDataSummary;
window.renderDataSummary = function(d) {
  _origRenderDataSummary(d);
  document.getElementById("card-data-tabs").style.display = "block";
  document.getElementById("card-cleaning").style.display = "block";
};
</script>

</body>
</html>
